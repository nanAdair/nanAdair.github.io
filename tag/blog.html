<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>Eureka</title>
    <meta name="description" content="">
    <meta name="author" content="wbn">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="../theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <link href="../theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="..">Eureka</a>

        <div class="nav-collapse">
        <ul class="nav">
            
            <li><a href="../pages/about.html">About</a></li>
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="../bo-ke-da-jian.html"><h1>博客搭建</h1></a>
Mon 23 September 2013

by <a class="url fn" href="../author/wbn.html">wbn</a>
 


 
        </div>
        
        <div><!--Slug:-->

<h2>pelican 简介</h2>
<p>之前用Octopress和Jeklly都搭过博客，不过因为ruby不熟悉(借口啦)，写了没两篇慢慢就丢掉了
。后来突然发现这个用python写的博客生成工具，虽然感觉管理没有前两者那么方便，不过因为
python自己比较熟悉，方便hack，所以就选择它来重新搭起来自己的博客。</p>
<p>当然，写博客的才是最关键的啦！</p>
<h2>搭建过程及创建文章</h2>
<h3>安装过程</h3>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="n">pelican</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">Markdown</span>
</pre></div>


<h3>Configuration</h3>
<p>Just follow the promption.</p>
<h3>博客架构</h3>
<div class="highlight"><pre><span class="n">blog</span><span class="o">/</span>
<span class="err">├──</span> <span class="n">content</span>              <span class="err">#</span> <span class="err">存放输入的源文件</span>
<span class="err">│</span>   <span class="err">└──</span> <span class="p">(</span><span class="n">pages</span><span class="p">)</span>          <span class="err">#</span> <span class="err">存放手工创建的静态页面</span>
<span class="err">├──</span> <span class="n">output</span>               <span class="err">#</span> <span class="err">生成的输出文件</span>
<span class="err">├──</span> <span class="n">develop_server</span><span class="p">.</span><span class="n">sh</span>    <span class="err">#</span> <span class="n">make</span> <span class="n">devserver</span>
<span class="err">├──</span> <span class="n">Makefile</span>             <span class="err">#</span> <span class="err">方便管理博客的</span><span class="n">Makefile</span>
<span class="err">├──</span> <span class="n">pelicanconf</span><span class="p">.</span><span class="n">py</span>       <span class="err">#</span> <span class="err">主配置文件</span>
<span class="err">└──</span> <span class="n">publishconf</span><span class="p">.</span><span class="n">py</span>       <span class="err">#</span> <span class="err">主发布文件</span>
</pre></div>


<h3>放github</h3>
<div class="highlight"><pre><span class="n">cd</span> <span class="n">output</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">username</span><span class="o">/</span><span class="n">username</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">git</span>
</pre></div>


<h3>文章的meta data:</h3>
<div class="highlight"><pre><span class="n">Title</span><span class="o">:</span>
<span class="n">Date</span><span class="o">:</span>
<span class="n">Category</span><span class="o">:</span>
<span class="n">Tags</span><span class="o">:</span>
<span class="n">Slug</span><span class="o">:</span>
</pre></div>


<h3>生成blog</h3>
<div class="highlight"><pre><span class="n">make</span> <span class="n">publish</span>
<span class="n">make</span> <span class="n">github</span> <span class="p">(</span><span class="err">需要自行定义</span><span class="p">)</span>
</pre></div>


<h2>遇到的问题及解决方法</h2>
<ul>
<li>pip源速度极慢，通常会timeout</li>
</ul>
<p>解决方法：更换数据源。网上介绍的config文件里面定义index-url，但是使用了一直没有起作用
。后来随便改改试试，改成index_url后发现config文件可以起到作用了。</p>
<p><a href="http://www.leadnt.com/2013/08/使用国内镜像源来加速python-pypi包的安装/">pip源设置</a></p>
<ul>
<li>安装pytz包出错</li>
</ul>
<p>解决方法：是因为版本的问题。</p>
<div class="highlight"><pre><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">pre</span> <span class="n">pytz</span>
</pre></div>


<ul>
<li>markdown文件不识别</li>
</ul>
<p>解决方法：因为pelican依赖一个特定的markdwon包，注意上面安装过程的命令</p>
<ul>
<li>将整个output文件作为git库，但是每次make publish后，output文件都会被覆盖</li>
</ul>
<p>解决方法：在publishconf文件中有一个选项关于publish是否要覆盖output文件的，更改即可。</p>
<h2>Reference</h2>
<ol>
<li><a href="http://www.lizherui.com/pages/2013/08/17/build_blog.html">首先发现pelican的地方</a></li>
<li><a href="http://docs.getpelican.com/en/3.2/">官网啦</a></li>
<li><a href="http://akenzc.com/how-to-build-a-blog-with-pelican.html">另一个详细的搭建介绍</a></li>
<li><a href="http://www.dongwm.com/archives/shi-yong-pelicanxin-de/">供参考的文章书写管理脚本</a></li>
</ol></div>
        <hr />
    </div>
		
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="../tag/blog.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="../">Archives</a>
                <li><a href="../tags.html">Tags</a>
                <li><a href="http://nanadair.github.io/" rel="alternate">Atom feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="../category/tech.html">Tech</a></li>
                   
            </ul>
            </div>




            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://github.com/nanAdair">github</a></li>
                <li><a href="http://www.douban.com/people/nanAdair/">豆瓣</a></li>
                <li><a href="http://www.zhihu.com/people/wang-bing-nan-52">知乎</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="..">Eureka</a> &copy; wbn 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
 
</body>
</html>